<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat UI</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }
        body { background:#f3f3f3; height:100vh; display:flex; flex-direction:column; }

        .head { background:#4caf50; color:white; padding:20px; text-align:center; font-size:1.3rem; font-weight:bold; box-shadow:0 2px 6px rgba(0,0,0,0.2); }

        .container { flex:1; width:60%; margin:20px auto; background:white; border-radius:15px; padding:20px; overflow-y:auto; display:flex; flex-direction:column; gap:15px; box-shadow:0 0 10px rgba(0,0,0,0.1); }

        .sender, .receive { max-width:70%; padding:15px; border-radius:15px; line-height:1.4rem; font-size:0.95rem; }

        .sender { background:#d14b4b; color:white; align-self:flex-start; border-bottom-left-radius:0; }
        .receive { background:#e8e8e8; color:#222; align-self:flex-end; border-bottom-right-radius:0; }

        .input-bar { width:60%; margin:0 auto 20px auto; display:flex; gap:10px; }
        .input-bar input { flex:1; padding:14px; border:1px solid #ccc; border-radius:10px; font-size:1rem; outline:none; }
        .input-bar button { padding:14px 20px; border:none; background:#4caf50; color:white; font-size:1rem; border-radius:10px; cursor:pointer; }
        .input-bar button:hover { background:#43a047; }
    </style>
</head>
<body>

<div class="head">Chat with Admin</div>

<div class="container">
    {% for msg in messages %}
        {% if msg.is_admin %}
            <div class="receive">{{ msg.content }}</div>
        {% else %}
            <div class="sender">{{ msg.content }}</div>
        {% endif %}
    {% empty %}
        <div class="receive">No messages yet.</div>
    {% endfor %}
</div>

<form method="POST" class="input-bar" action="{% url 'chat' %}">
    {% csrf_token %}
    <input type="text" name="message" placeholder="Type your message..." required>
    <button type="submit">Send</button>
</form>

</body>
</html>
